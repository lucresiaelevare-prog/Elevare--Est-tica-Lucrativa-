<!doctype html>
<html lang="pt-BR">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Elevare — Cadastro 15 dias grátis</title>
<meta name="description" content="Cadastre-se e ganhe 15 dias grátis na Elevare. Ganhe Elo (Moedas Elevare) ao indicar colegas e desbloqueie conteúdos, mimos e benefícios."/>
<link href="https://fonts.googleapis.com/css2?family=Lora:ital,wght@0,400;0,700;1,400&family=Montserrat:wght@600;700&display=swap" rel="stylesheet">
<style>
  :root{
    --bg:#FAFAFA; --card:#FFFFFF; --lilac:#B784F7; --lav:#E5DAFA; --text:#223344; --muted:#6F7A89;
    --maxW:980px;
  }
  *{box-sizing:border-box}
  body{margin:0;font-family:"Lora",serif;background:var(--bg);color:var(--text);-webkit-font-smoothing:antialiased}
  .wrap{max-width:var(--maxW);margin:32px auto;padding:24px}
  header{display:flex;gap:24px;align-items:center;justify-content:space-between}
  h1{font-family:"Montserrat",sans-serif;font-size:28px;margin:0}
  p.lead{color:var(--muted);margin:6px 0 0}
  .grid{display:grid;grid-template-columns:1fr 420px;gap:20px;margin-top:18px}
  .card{background:var(--card);padding:18px;border-radius:12px;box-shadow:0 14px 40px rgba(34,51,68,0.06);border:1px solid rgba(34,51,68,0.03)}
  label{display:block;font-weight:600;margin-bottom:6px;margin-top:12px}
  input[type="text"],input[type="email"],input[type="tel"],input[type="date"],select{width:100%;padding:10px;border-radius:10px;border:1px solid rgba(34,51,68,0.06);font-size:15px}
  .row{display:flex;gap:10px}
  .small{font-size:13px;color:var(--muted)}
  .btn{background:var(--lilac);color:#fff;padding:12px 18px;border-radius:10px;border:0;font-weight:700;cursor:pointer;margin-top:14px}
  .ghost{background:transparent;border:1px solid rgba(34,51,68,0.06);color:var(--text)}
  .preview{background:linear-gradient(180deg,#fff,#FBF8FF);padding:12px;border-radius:10px;border:1px dashed rgba(183,132,247,0.12)}
  .meta{display:flex;gap:12px;align-items:center}
  .coin{background:linear-gradient(135deg,var(--lilac),#8456d6);color:#fff;padding:8px 12px;border-radius:999px;font-weight:800}
  footer{margin-top:20px;color:var(--muted);font-size:13px}
  @media(max-width:900px){ .grid{grid-template-columns:1fr} }
</style>
</head>
<body>
<div class="wrap">
  <header>
    <div>
      <h1>ELEVARE</h1>
      <p class="lead">Cadastre-se e tenha 15 dias grátis. Ganhe <strong>Elo</strong> — nossa moeda para desbloquear conteúdos, mimos e benefícios.</p>
    </div>
    <div class="meta">
      <div class="coin" title="Moedas Elevare">Elo</div>
      <div class="small">Bem-vindo ao ecossistema Elevare</div>
    </div>
  </header>

  <main class="grid">
    <!-- Form -->
    <section class="card" aria-labelledby="form-title">
      <h2 id="form-title" style="margin-top:0;font-family:Montserrat">Teste 15 dias grátis</h2>
      <p class="small">PREENCHA para ativar sua conta de avaliação. Informações usadas apenas para ativação e legalidade (LGPD).</p>

      <form id="signupForm" onsubmit="event.preventDefault(); signup();">
        <label for="nome">Nome completo</label>
        <input id="nome" name="nome" type="text" placeholder="Nome Sobrenome" required>

        <label for="telefone">Telefone (WhatsApp)</label>
        <input id="telefone" name="telefone" type="tel" placeholder="+55 11 9xxxx-xxxx" required>

        <label for="email">E-mail</label>
        <input id="email" name="email" type="email" placeholder="seu@email.com" required>

        <label for="nasc">Data de nascimento</label>
        <input id="nasc" name="nasc" type="date" required>

        <label for="ref">Código de indicação (opcional)</label>
        <input id="ref" name="ref" type="text" placeholder="Código de quem indicou">

        <div style="margin-top:12px">
          <input id="lgpd" type="checkbox" required> <label for="lgpd" style="display:inline;font-weight:600">Concordo com a política de privacidade (LGPD)</label>
        </div>

        <button class="btn" type="submit">Ativar 15 dias grátis</button>
      </form>

      <div style="margin-top:14px" class="small">
        Ao se cadastrar você receberá um código exclusivo (ex.: <strong>CA1506</strong>). Indique colegas: ao cadastrarem com o seu código, você ganha <strong>+10 Elo</strong>.
      </div>
    </section>

    <!-- Preview / Info -->
    <aside class="card">
      <h3 style="font-family:Montserrat;margin-top:0">Pré-visualização da conta</h3>
      <div class="preview" id="preview">
        <p class="small">Insira seus dados à esquerda e veja o código e saldo gerados aqui.</p>
        <hr style="margin:12px 0">
        <div><strong>Código:</strong> <span id="preview-code">—</span></div>
        <div style="margin-top:8px"><strong>Saldo inicial:</strong> <span id="preview-credits">—</span> <span class="coin" style="margin-left:8px">Elo</span></div>
        <div style="margin-top:10px"><strong>Benefícios de Elo:</strong>
          <ul style="margin:8px 0 0 18px;color:var(--muted)">
            <li>Desbloquear conteúdos exclusivos</li>
            <li>Acesso antecipado a mimos e promoções</li>
            <li>Convites para mentorias com especialistas</li>
          </ul>
        </div>
        <hr style="margin:12px 0">
        <div class="small">Exemplo de código: primeiras 2 iniciais + dia+mes do nascimento (ex.: CARINE nascida 15/06 → <strong>CA1506</strong>).</div>
      </div>

      <div style="margin-top:14px">
        <button class="btn ghost" onclick="showHow()">Como funciona o crédito</button>
      </div>

      <div id="howModal" style="display:none;margin-top:12px;padding:10px;background:#fff;border-radius:10px;border:1px solid rgba(34,51,68,0.04);">
        <strong>Programa de Indicações</strong>
        <p class="small">Ao indicar uma nova assinante que completar cadastro, você recebe <strong>+10 Elo</strong>. Os créditos são exibidos no seu painel e podem ser usados para desbloquear materiais, participar de mentorias e receber mimos.</p>
      </div>
    </aside>
  </main>

  <section style="margin-top:18px" class="card">
    <h3 style="font-family:Montserrat;margin-top:0">Exemplos rápidos</h3>
    <div style="display:flex;gap:12px;flex-wrap:wrap">
      <div style="background:#fff;padding:10px;border-radius:8px;border:1px solid rgba(34,51,68,0.03)"><strong>CA1506</strong><div class="small">Carine, nascida 15/06</div></div>
      <div style="background:#fff;padding:10px;border-radius:8px;border:1px solid rgba(34,51,68,0.03)"><strong>RA0201</strong><div class="small">Rafaela, nascida 02/01</div></div>
    </div>
    <footer style="margin-top:12px" class="small">
      Política de Privacidade • Termos • Elevare © 2025
    </footer>
  </section>
</div>

<script>
/* Lógica front-end - mock local (substituir por backend depois) */
const KEY_USERS = 'elevare_users_v1';

function readUsers(){
  try{
    return JSON.parse(localStorage.getItem(KEY_USERS) || '[]');
  }catch(e){ return []; }
}
function writeUsers(arr){ localStorage.setItem(KEY_USERS, JSON.stringify(arr)); }

function normalizeName(name){
  return name.trim();
}

// Gera código: duas primeiras iniciais do nome + DDMM
function generateCode(nome, dateISO){
  const n = normalizeName(nome);
  if(!n) return '';
  const initials = n.split(/\s+/).map(w=>w[0]).slice(0,2).join('').toUpperCase();
  const d = new Date(dateISO);
  const dd = String(d.getDate()).padStart(2,'0');
  const mm = String(d.getMonth()+1).padStart(2,'0');
  return initials + dd + mm; // ex CA1506
}

function signup(){
  const nome = document.getElementById('nome').value.trim();
  const tel = document.getElementById('telefone').value.trim();
  const email = document.getElementById('email').value.trim();
  const nasc = document.getElementById('nasc').value;
  const ref = document.getElementById('ref').value.trim().toUpperCase();
  const lgpd = document.getElementById('lgpd').checked;

  if(!nome || !tel || !email || !nasc || !lgpd){ alert('Preencha todos os campos obrigatórios e aceite a política.'); return; }

  const code = generateCode(nome, nasc);
  // create user object
  const users = readUsers();
  // check if email already exists
  if(users.some(u=>u.email.toLowerCase()===email.toLowerCase())){
    alert('E-mail já cadastrado. Faça login ou recupere sua conta.');
    return;
  }
  // initial credits: give 5 Elo as welcome
  let credits = 5;
  // if a valid referrer code is provided, award the referrer +10 Elo
  if(ref){
    const referrer = users.find(u=>u.code === ref);
    if(referrer){
      referrer.credits = (referrer.credits||0) + 10;
      credits += 0; // optional bonus for new user, keep as 5
      // save updated referrer
      writeUsers(users);
      alert('Indicação validada! O indicador recebeu +10 Elo.');
    } else {
      alert('Código de indicação não encontrado. Continue e compartilhe seu código depois.');
    }
  }

  // save new user
  const newUser = {
    id: Date.now(),
    nome,
    telefone: tel,
    email,
    nasc,
    code,
    credits,
    trialEnds: new Date(Date.now() + 15*24*60*60*1000).toISOString(), // 15 days free
    createdAt: new Date().toISOString()
  };
  users.push(newUser);
  writeUsers(users);
  // show preview
  showPreview(newUser);
  // clear form (optional)
  document.getElementById('signupForm').reset();
}

function showPreview(user){
  document.getElementById('preview-code').textContent = user.code;
  document.getElementById('preview-credits').textContent = user.credits + ' Elo';
  // also reveal modal how
  document.getElementById('howModal').style.display = 'block';
  // scroll to preview
  document.getElementById('preview').scrollIntoView({behavior:'smooth'});
}

/* helper to show how */
function showHow(){ document.getElementById('howModal').style.display = (document.getElementById('howModal').style.display==='none'?'block':'none'); }

// -- Demo helper: create a test referrer to simulate referrals (only for demo)
(function ensureDemoReferrer(){
  const users = readUsers();
  if(!users.some(u=>u.code==='CM0101')){
    users.push({id:999999, nome:'Demo Ref', email:'demo@elevare.test', code:'CM0101', credits:20, createdAt: new Date().toISOString(), trialEnds:new Date(Date.now()+15*24*60*60*1000).toISOString() });
    writeUsers(users);
  }
})();
</script>
</body>
</html>
